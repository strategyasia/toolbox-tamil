<!DOCTYPE html>
<html lang="ta">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tamil Transliteration - Toolbox Tamil</title>
    <link rel="stylesheet" href="tools-common.css">
    <style>
        .input-output-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-top: 30px;
        }

        .input-section, .output-section {
            background: var(--bg-color);
            padding: 20px;
            border-radius: 12px;
        }

        .section-label {
            font-weight: 600;
            margin-bottom: 10px;
            color: var(--text-color);
            display: flex;
            align-items: center;
            gap: 8px;
        }

        #tamilInput, #romanOutput {
            min-height: 300px;
            font-size: 18px;
            line-height: 1.6;
        }

        #tamilInput {
            font-family: 'Noto Sans Tamil', 'Latha', 'Tamil Sangam MN', sans-serif;
        }

        #romanOutput {
            font-family: 'Monaco', 'Courier New', monospace;
            background: white;
        }

        .action-buttons {
            display: flex;
            gap: 12px;
            margin-top: 15px;
            flex-wrap: wrap;
        }

        .examples {
            background: rgba(78, 205, 196, 0.1);
            padding: 20px;
            border-radius: 12px;
            margin-top: 20px;
        }

        .examples h3 {
            font-size: 16px;
            font-weight: 600;
            margin-bottom: 12px;
            color: var(--text-color);
        }

        .example-item {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 8px;
            font-size: 14px;
        }

        .example-tamil {
            font-family: 'Noto Sans Tamil', 'Latha', 'Tamil Sangam MN', sans-serif;
            font-size: 18px;
            font-weight: 600;
            color: var(--primary-color);
        }

        .example-arrow {
            color: var(--text-light);
        }

        .example-roman {
            font-family: 'Monaco', 'Courier New', monospace;
            color: var(--text-light);
        }

        @media (max-width: 768px) {
            .input-output-grid {
                grid-template-columns: 1fr;
            }

            #tamilInput, #romanOutput {
                min-height: 200px;
                font-size: 16px;
            }
        }
    </style>
</head>
<body>
    <!-- Header -->
    <header class="tool-header">
        <div class="container">
            <div class="logo">
                <span>üî§</span>
                <h1>Tamil Transliteration</h1>
            </div>
            <a href="../index.html" class="back-btn">‚Üê Back to Home</a>
        </div>
    </header>

    <!-- Main Content -->
    <main class="container">
        <section class="tool-section">
            <h2 class="tool-title">Tamil to English Transliteration</h2>
            <p class="tool-description">
                Convert Tamil script to romanized English text (transliteration). Type or paste Tamil text to get instant romanization.
            </p>

            <!-- Input/Output Grid -->
            <div class="input-output-grid">
                <!-- Tamil Input -->
                <div class="input-section">
                    <div class="section-label">
                        <span>üìù</span> Tamil Text
                    </div>
                    <textarea
                        id="tamilInput"
                        placeholder="‡Æâ‡Æô‡Øç‡Æï‡Æ≥‡Øç ‡Æ§‡ÆÆ‡Æø‡Æ¥‡Øç ‡Æâ‡Æ∞‡Øà‡ÆØ‡Øà ‡Æá‡Æô‡Øç‡Æï‡Øá ‡Æâ‡Æ≥‡Øç‡Æ≥‡Æø‡Æü‡Æµ‡ØÅ‡ÆÆ‡Øç..."
                    ></textarea>
                    <div class="action-buttons">
                        <button class="btn btn-secondary" id="clearBtn">
                            <span>üóëÔ∏è</span> Clear
                        </button>
                    </div>
                </div>

                <!-- Roman Output -->
                <div class="output-section">
                    <div class="section-label">
                        <span>üî§</span> Romanized Text
                    </div>
                    <textarea
                        id="romanOutput"
                        placeholder="Romanized text will appear here..."
                        readonly
                    ></textarea>
                    <div class="action-buttons">
                        <button class="btn btn-primary" id="copyBtn">
                            <span>üìã</span> Copy
                        </button>
                    </div>
                </div>
            </div>

            <!-- Examples -->
            <div class="examples">
                <h3>Examples:</h3>
                <div class="example-item">
                    <span class="example-tamil">‡Æµ‡Æ£‡Æï‡Øç‡Æï‡ÆÆ‡Øç</span>
                    <span class="example-arrow">‚Üí</span>
                    <span class="example-roman">vanakkam</span>
                </div>
                <div class="example-item">
                    <span class="example-tamil">‡Æ®‡Æ©‡Øç‡Æ±‡Æø</span>
                    <span class="example-arrow">‚Üí</span>
                    <span class="example-roman">nanri</span>
                </div>
                <div class="example-item">
                    <span class="example-tamil">‡Æ§‡ÆÆ‡Æø‡Æ¥‡Øç</span>
                    <span class="example-arrow">‚Üí</span>
                    <span class="example-roman">tamil</span>
                </div>
                <div class="example-item">
                    <span class="example-tamil">‡ÆÖ‡Æ©‡Øç‡Æ™‡ØÅ</span>
                    <span class="example-arrow">‚Üí</span>
                    <span class="example-roman">anpu</span>
                </div>
            </div>
        </section>
    </main>

    <!-- Copy Notification -->
    <div class="copy-notification" id="copyNotification">
        ‚úì Copied to clipboard!
    </div>

    <script>
        const tamilInput = document.getElementById('tamilInput');
        const romanOutput = document.getElementById('romanOutput');
        const copyBtn = document.getElementById('copyBtn');
        const clearBtn = document.getElementById('clearBtn');
        const copyNotification = document.getElementById('copyNotification');

        // Tamil to Roman transliteration map
        const tamilToRoman = {
            // Vowels
            '‡ÆÖ': 'a', '‡ÆÜ': 'aa', '‡Æá': 'i', '‡Æà': 'ii', '‡Æâ': 'u', '‡Æä': 'uu',
            '‡Æé': 'e', '‡Æè': 'ee', '‡Æê': 'ai', '‡Æí': 'o', '‡Æì': 'oo', '‡Æî': 'au',

            // Consonants
            '‡Æï': 'ka', '‡Æô': 'nga', '‡Æö': 'sa', '‡Æû': 'nya', '‡Æü': 'ta', '‡Æ£': 'na',
            '‡Æ§': 'tha', '‡Æ®': 'nha', '‡Æ™': 'pa', '‡ÆÆ': 'ma', '‡ÆØ': 'ya', '‡Æ∞': 'ra',
            '‡Æ≤': 'la', '‡Æµ': 'va', '‡Æ¥': 'zha', '‡Æ≥': 'la', '‡Æ±': 'ra', '‡Æ©': 'na',

            // Grantha consonants
            '‡Æú': 'ja', '‡Æ∂': 'sha', '‡Æ∑': 'sha', '‡Æ∏': 'sa', '‡Æπ': 'ha', '‡Æï‡Øç‡Æ∑': 'ksha',

            // Vowel signs
            '‡Ææ': 'aa', '‡Æø': 'i', '‡ØÄ': 'ii', '‡ØÅ': 'u', '‡ØÇ': 'uu',
            '‡ØÜ': 'e', '‡Øá': 'ee', '‡Øà': 'ai', '‡Øä': 'o', '‡Øã': 'oo', '‡Øå': 'au',

            // Special characters
            '‡ÆÉ': 'ah', '‡Øç': '', // Pulli (virama) removes inherent vowel

            // Common combinations
            '‡Æï‡Ææ': 'kaa', '‡Æï‡Æø': 'ki', '‡Æï‡ØÄ': 'kii', '‡Æï‡ØÅ': 'ku', '‡Æï‡ØÇ': 'kuu',
            '‡Æï‡ØÜ': 'ke', '‡Æï‡Øá': 'kee', '‡Æï‡Øà': 'kai', '‡Æï‡Øä': 'ko', '‡Æï‡Øã': 'koo', '‡Æï‡Øå': 'kau',
            '‡Æô‡Øç': 'ng', '‡Æö‡Øç': 'ch', '‡Æû‡Øç': 'nj', '‡Æü‡Øç': 't', '‡Æ£‡Øç': 'n',
            '‡Æ§‡Øç': 'th', '‡Æ®‡Øç': 'nh', '‡Æ™‡Øç': 'p', '‡ÆÆ‡Øç': 'm', '‡ÆØ‡Øç': 'y',
            '‡Æ∞‡Øç': 'r', '‡Æ≤‡Øç': 'l', '‡Æµ‡Øç': 'v', '‡Æ¥‡Øç': 'zh', '‡Æ≥‡Øç': 'l',
            '‡Æ±‡Øç': 'r', '‡Æ©‡Øç': 'n', '‡Æï‡Øç': 'k',

            // Numbers
            '‡Øß': '1', '‡Ø®': '2', '‡Ø©': '3', '‡Ø™': '4', '‡Ø´': '5',
            '‡Ø¨': '6', '‡Ø≠': '7', '‡ØÆ': '8', '‡ØØ': '9', '‡Ø∞': '10',
            '‡Ø±': '100', '‡Ø≤': '1000'
        };

        function transliterate(text) {
            let result = '';
            let i = 0;

            while (i < text.length) {
                let matched = false;

                // Try matching 3 characters first (for ‡Æï‡Øç‡Æ∑ etc)
                if (i + 2 < text.length) {
                    const threeChar = text.substring(i, i + 3);
                    if (tamilToRoman[threeChar]) {
                        result += tamilToRoman[threeChar];
                        i += 3;
                        matched = true;
                        continue;
                    }
                }

                // Try matching 2 characters
                if (i + 1 < text.length) {
                    const twoChar = text.substring(i, i + 2);
                    if (tamilToRoman[twoChar]) {
                        result += tamilToRoman[twoChar];
                        i += 2;
                        matched = true;
                        continue;
                    }
                }

                // Try matching single character
                const oneChar = text[i];
                if (tamilToRoman[oneChar]) {
                    result += tamilToRoman[oneChar];
                    i += 1;
                    matched = true;
                } else {
                    // Keep non-Tamil characters as is
                    result += oneChar;
                    i += 1;
                }
            }

            return result;
        }

        function updateTransliteration() {
            const tamilText = tamilInput.value;
            const romanText = transliterate(tamilText);
            romanOutput.value = romanText;
        }

        function copyToClipboard() {
            const text = romanOutput.value;
            if (text.trim().length === 0) {
                return;
            }

            navigator.clipboard.writeText(text).then(() => {
                copyNotification.classList.add('show');
                setTimeout(() => {
                    copyNotification.classList.remove('show');
                }, 2000);
            }).catch(err => {
                console.error('Failed to copy:', err);
            });
        }

        function clearAll() {
            tamilInput.value = '';
            romanOutput.value = '';
            tamilInput.focus();
        }

        // Event listeners
        tamilInput.addEventListener('input', updateTransliteration);
        tamilInput.addEventListener('paste', () => setTimeout(updateTransliteration, 0));
        copyBtn.addEventListener('click', copyToClipboard);
        clearBtn.addEventListener('click', clearAll);

        // Focus on input
        tamilInput.focus();
    </script>
</body>
</html>
